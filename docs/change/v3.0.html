<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><title> Changes in Mini vMac 3.0.4 </title><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="canonical" href="v3.0.html"></head><body><div><i> <a href="https://www.gryphel.com/index.html">www.gryphel.com</a>/c/<a href="../index.html">minivmac</a>/<a href="index.html">change</a>/v3.0- <a href="https://www.gryphel.com/c/feedback.html">feedback</a> </i></div><hr><h3 align=center>	Mini vMac 3.0.4</h3><h3 align=center>	Changes</h3><hr><p> What has changed in Mini vMac 3.0.4, compared to Mini vMac 2.8.2.This only lists changes that affect behavior, and so doesn'tinclude cleanups of the source code. </p><p> : </p><p>default compile:</p><blockquote><p><a href="v3.0.html#feature">New features</a></p><p><a href="v3.0.html#modified">Changed behavior</a></p><p><a href="v3.0.html#bugs">Bug fixes</a></p></blockquote><p>not in default compile:</p><blockquote><p><a href="v3.0.html#compile_feature">New features</a></p><p><a href="v3.0.html#compile_modified">Changed behavior</a></p></blockquote><p><a href="v3.0.html#build">Build System</a></p><p> : </p><p> <a name="feature"> <b> New features in default compile </b> </a> </p><p> * Mini vMac now provides certain new capabilitiesfor software running within the emulated machine, includinggetting and setting the host clipboard, using raw fileson the host computer (disabling any interpretation asa disk image), creating new files (disk images or raw files),deleting files mounted with write permission, and gettingthe names of files. </p><p> Software using these capabilities include: </p><blockquote><p><a href="../extras/clipout/index.html">ClipOut</a> - exports the clipboard<br><a href="../extras/clipin/index.html">ClipIn</a> - imports the clipboard<br><a href="../extras/exportfl/index.html">ExportFl</a> - exports files from Mini vMac<br><a href="../extras/importfl/index.html">ImportFl</a> - imports files into Mini vMac</p></blockquote><p> The new capabilities were carefully designed to avoid allowingsoftware running in the virtual machine to do any seriousharm. But if this is a concern, all the new capabilities canbe disabled with the compile time option<a href="../options.html#option_min_extn">-min-extn</a>. </p><p> <a name="modified"> <b> Changed behavior in default compile </b> </a> </p><p> * By default, the Macintosh versions ofMini vMac will now not claim ownership to disk image andROM image files. So double clicking on disk imageswill not launch Mini vMac. This is because whenyou have lots of copies of Mini vMac around,all of which claim ownership of disk images,it is unpredictable what happens when youdouble click on one, making the feature useless.Instead there is a compile time option,<a href="../options.html#option_im">-im 1</a>,to make Mini vMac claim ownership as hasbeen done previously. You can then make sureto have only one copy of Mini vMac compiledthis way on your computer. </p><p> * The stopped mode toggle is now Control-S-Dinstead of Control-S-S. Before I had wanted to makeit quick to type, but now I think it is more importantto prevent hitting it accidentally. </p><p> * When switching back to the Mini vMac application,previous versions would always ignore keysthat were already held down. There is nowa special case such that immediately aftera drag and drop on to the Mini vMac window, it will not ignorekeys already held down. This makes it easierto rebuild the desktop of disk images byholding down command and option. However,the keys that map to command and option canhave special meanings in other operating systems.(For example, in OS X, clicking on the windowof another application with command and optiondown will hide all other applications.) Soit usually works better to press command-optionright before dropping, instead of before dragging.(Thanks to a complaint by<a href="http://woodwynlane.com/">David Sibley</a>for this feature.) </p><p> * An obscure change is that when entering thecontrol mode, or the open dialog, or switchingto another application, all the emulatedkeys (except for caps lock) are releasedimmediately, instead of waiting untilnormal emulation resumes. </p><p> * An even moreobscure change is that in the control mode,changes to the caps lock key take effectimmediately, instead of waiting until leavingthe control mode. </p><p> * The variation name displayedin the about message, and used for program binary archive names,no longer includes the development environmentused to compile it or the debug status, but onlyhas the program name abbreviation, theversion number, and the target. Such asminivmac-3.0.4-imch, for the Intel Macintoshversion of Mini vMac 3.0.4. </p><p> <a name="bugs"> <b> Bug fixes in default compile </b> </a> </p><p> * Mini vMac for PowerPC Macintosh OS X was not compatible with OS X 10.5,due to a bug in the PowerPC assembly code used for 680x0 emulation. (It'ssurprising that it worked previously.) </p><p> * A call to XFlush was missing in the X version (such asthe Linux port), and the most noticeable effect wasthe lack of drawing when Mini vMac was in thebackground with the run in background option on. </p><p> * In OS X, and also earlier Mac OS,dragging and dropping onto the open file dialogwould also immediately try to mount that file inMini vMac. </p><p> * The Windows and X versions now support thePageUp, PageDown, Home, End, Help/Ins, andForwardDelete keys. </p><p> * The mouse positioncould shift slightly when leaving fullscreen mode (or entering the open dialogin full screen mode). </p><p> * In the Macintosh versions {mouse down,control-o, mouse up, type escape key} wouldleave the emulated mouse stuck down. </p><p> * In Ubuntu Linux, drag and drop on to theMini vMac window would not activate Mini vMac.This is fixed by sending a _NET_ACTIVE_WINDOW message inthe X version when it is claimed to be supported.So forcing the Mini vMac window to activatewill probably now work with more Linux distributions (and other X),but there are undoubtedly still distributionswhere it won't work. </p><p> * If buggy or malicious low level software running in theemulated computer wrote past the end of a disk image,it would make the disk image larger. Mini vMac willnow do explicit range checking for both read and write,and not just pass it directly to the platform specific calls. </p><p> * The Macintosh OS X version wouldn't work with a	disk image on a CD. </p><p> * In the Macintosh OS X version, magnify	toggle wasn't smooth. Now just create	a new window, rather than moving then	resizing the existing window. </p><p> <a name="build"> <b> Build System </b> </a> </p><p> * The build system is now a Macintosh program that runs inMini vMac (it would also work on a real 680x0 Macintosh).After you specify the options, the program generates anarchive containing all the files needed to compile Mini vMacwith those options in the selected developmentenvironment. If the build system is running in Mini vMac3.0.0 (or later), then this archive will then automaticallybe exported to the real computer, where you can extract thefiles and compile the program. The<a href="../build.html">Building Mini vMac</a>page gives more details. </p><p> <a name="compile_feature"> <b> New features not in default compile </b> </a> </p><p> * A Dutch translation from<a href="http://luc.xalasys.com/mac/minivmac.html">Luc Pauwels</a>(option &ldquo;<a href="../options.html#Language">-lang dut</a>&rdquo;),and a Spanish translation by&ldquo;<a href="http://www.geocities.com/chir_geo/">Chir</a>&rdquo;(option &ldquo;<a href="../options.html#Language">-lang spa</a>&rdquo;). </p><p> * In the Windows version, the<a href="../options.html#option_im">-im 1</a>option will causeMini vMac to install itself on launchinto the Microsoft Windows registry, so thatdouble clicking on a disk image file withthe extension '.dsk' will open it with MinivMac, and so that such disk image files andalso '.rom' files will be displayed withcustom icons. This make the separateutility <a href="../extras/mnvmreg/index.html">MnvMreg</a> obsolete. </p><p> * An option to swap the emulated Control and Command keys(&ldquo;<a href="../options.html#option_ccs">-ccs</a>&rdquo;). </p><p> * An experimental option for making some keys more convenientto use.(&ldquo;<a href="../options.html#option_akm">-akm</a>&rdquo;). </p><p> * An initial speed setting(&ldquo;<a href="../options.html#WantInit">-speed</a>&rdquo;). </p><p> * An initial Run in Background setting(&ldquo;<a href="../options.html#WantInit">-bg</a>&rdquo;). </p><p> * A new alternate implementation of the 680x0 processor(option &ldquo;<a href="../options.html#option_alt_cpu">-alt-cpu</a>&rdquo;).It is a bit faster, cleaner, and makes it possible to be more accurateabout illegal instructions without speed penalty. However, this code is toonew for me to trust it yet, so it is not used by default. </p><p> <a name="compile_modified"> <b> Changed behavior not in default compile </b> </a> </p><p> * There are a number of refinements to playing sound using ALSA inthe Linux version, which is enabled with&ldquo;<a href="../options.html#option_s">-sound 1</a>&rdquo;.It may work more smoothly now. </p><p> : </p><p> If you find Mini vMac useful, please consider<a href="https://www.gryphel.com/c/help/index.html">helping the Gryphel Project</A>,of which it is a part. </p><a href="https://www.gryphel.com/index.html"><img src="https://www.gryphel.com/d/gryphel-32.gif" width=32 height=32 border=0	alt="gryphel logo, 1K"></a><p> Back up to - <b><a href="index.html">Changes in Mini vMac versions</a></b></p><hr><div><i> <a href="https://www.gryphel.com/index.html">www.gryphel.com</a>/c/<a href="../index.html">minivmac</a>/<a href="index.html">change</a>/v3.0- <a href="https://www.gryphel.com/c/feedback.html">feedback</a> </i><br>copyright (c) 2009 Paul C. Pratt - last update 11/8/2009</div></body></html>